<div class="trackers-page">
  <!-- Sticky Toolbar Section -->
  <div class="sticky-toolbar-wrapper">
    <app-navigation-tabs></app-navigation-tabs>
  </div>

  <!-- Main Content -->
  <div class="trackers-content">
    <mat-card class="cardWithShadow">
      <mat-sidenav-container [ngClass]="{
          'side-panel-opened': sidePanelOpened(),
          'side-panel-closed': !sidePanelOpened()
        }" style="min-height: calc(100vh - 250px)">

        <!-- Sidebar -->
        <mat-sidenav #chatnav mode="side" class="app-left-sidebar" [mode]="isOver() ? 'over' : 'side'"
          [opened]="!isOver()" (open)="sidePanelOpened.set(true)" (close)="sidePanelOpened.set(false)" position="start">

          <div class="sidebar-content">
            <div class="sidebar-header">
              <h4 class="f-w-600 f-s-18 m-0">Trackers</h4>
            </div>

            <div class="sidebar-list">
              <mat-nav-list>
                <!-- Inbox -->
                <mat-list-item (click)="selectionlblClick('all')" class="nav-item"
                  [class.active]="selectedCategory() === 'all'">
                  <mat-icon matListItemIcon>inbox</mat-icon>
                  <span class="f-s-14">{{ 'Inbox' | translate }}</span>
                  <span class="badge bg-primary">{{totalTodos()}}</span>
                </mat-list-item>

                <!-- View Only -->
                <mat-list-item [class.active]="selectedCategory() === 'uncomplete'" class="nav-item"
                  (click)="selectionlblClick('uncomplete')">
                  <mat-icon matListItemIcon>visibility</mat-icon>
                  <span class="f-s-14">View Only</span>
                  <span class="badge bg-error">{{totalIncomplete()}}</span>
                </mat-list-item>

                <!-- Outbox -->
                <mat-list-item [class.active]="selectedCategory() === 'outbox'" class="nav-item"
                  (click)="selectionlblClick('outbox')">
                  <mat-icon matListItemIcon>send</mat-icon>
                  <span class="f-s-14">Outbox</span>
                </mat-list-item>

                <!-- Follow Up -->
                <mat-list-item [class.active]="selectedCategory() === 'followup'" class="nav-item"
                  (click)="selectionlblClick('followup')">
                  <mat-icon matListItemIcon>schedule</mat-icon>
                  <span class="f-s-14">Follow Up</span>
                  <span class="badge bg-warning">{{totalCompleted()}}</span>
                </mat-list-item>

                <!-- Manager Monitor -->
                <mat-list-item [class.active]="selectedCategory() === 'manager'" class="nav-item"
                  (click)="selectionlblClick('manager')">
                  <mat-icon matListItemIcon>people</mat-icon>
                  <span class="f-s-14">Manager Monitor</span>
                  <span class="badge bg-secondary">15</span>
                </mat-list-item>

                <!-- Created by Me -->
                <mat-list-item [class.active]="selectedCategory() === 'created'" class="nav-item"
                  (click)="selectionlblClick('created')">
                  <mat-icon matListItemIcon>person</mat-icon>
                  <span class="f-s-14">Created by Me</span>
                  <span class="badge bg-success">6</span>
                </mat-list-item>

                <!-- Generalization -->
                <mat-list-item [class.active]="selectedCategory() === 'generalization'" class="nav-item"
                  (click)="selectionlblClick('generalization')">
                  <mat-icon matListItemIcon>layers</mat-icon>
                  <span class="f-s-14">Generalization</span>
                  <span class="badge bg-info">4</span>
                </mat-list-item>

                <!-- Completed Tasks -->
                <mat-list-item [class.active]="selectedCategory() === 'complete'" class="nav-item"
                  (click)="selectionlblClick('complete')">
                  <mat-icon matListItemIcon>check_circle</mat-icon>
                  <span class="f-s-14">Completed Tasks</span>
                  <span class="badge bg-success">{{totalCompleted()}}</span>
                </mat-list-item>
              </mat-nav-list>
            </div>
          </div>
        </mat-sidenav>

        <!-- Main Content Area -->
        <mat-sidenav-content>
          <!-- Content Header (Sticky) -->
          <div class="content-header-sticky">
            <div class="d-flex align-items-center justify-content-between">
              <div class="d-flex align-items-center">
                <button mat-icon-button (click)="chatnav.toggle()">
                  <mat-icon>menu</mat-icon>
                </button>
                <h5 class="m-0 m-l-12 f-w-600">{{getCategoryTitle()}}</h5>
              </div>
              <span class="tasks-counter bg-primary text-white">
                {{ remainingList() }} Tasks left
              </span>
            </div>
          </div>

          <!-- Scrollable Content -->
          <div class="scrollable-content">
            <ng-container [ngSwitch]="selectedCategory()">
              <app-inbox *ngSwitchCase="'all'"></app-inbox>
              <app-view-only *ngSwitchCase="'uncomplete'"></app-view-only>
              <app-outbox *ngSwitchCase="'outbox'"></app-outbox>
              <app-follow-up *ngSwitchCase="'followup'"></app-follow-up>
              <app-manager-monitor *ngSwitchCase="'manager'"></app-manager-monitor>
              <app-created-by-me *ngSwitchCase="'created'"></app-created-by-me>
              <app-generalization *ngSwitchCase="'generalization'"></app-generalization>
              <app-completed-tasks *ngSwitchCase="'complete'"></app-completed-tasks>
            </ng-container>
          </div>
        </mat-sidenav-content>
      </mat-sidenav-container>
    </mat-card>
  </div>
</div>